{"errorLabelSet":{},"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":312061740,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Public\\webcamrips.com\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\Public\\webcamrips.com\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async dbConnect (webpack-internal:///(rsc)/./lib/utils/database.ts:21:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/test-db/route.ts:11:9)\n    at async C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:63809\n    at async eU.execute (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:53964)\n    at async eU.handle (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:65062)\n    at async doRender (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\base-server.js:1333:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\base-server.js:1555:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\base-server.js:1463:28)\n    at async DevServer.renderPageComponent (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\base-server.js:1856:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\base-server.js:1894:32)\n    at async DevServer.pipeImpl (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\base-server.js:911:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\next-server.js:271:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\base-server.js:807:17)\n    at async C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:331:20\n    at async Span.traceAsyncFn (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\trace\\trace.js:151:20)\n    at async DevServer.handleRequest (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:328:24)\n    at async invokeRender (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\lib\\router-server.js:163:21)\n    at async handleRequest (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\lib\\router-server.js:342:24)\n    at async requestHandlerImpl (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\lib\\router-server.js:366:13)\n    at async Server.requestListener (C:\\Users\\Public\\webcamrips.com\\node_modules\\next\\dist\\server\\lib\\start-server.js:140:13)","timestamp":"2025-04-23T09:41:14.182Z"}
{"date":"Wed Apr 23 2025 15:19:37 GMT+0530 (India Standard Time)","error":{"code":"MODULE_NOT_FOUND","requireStack":["C:\\Users\\Public\\webcamrips.com\\lib\\services\\streamRecorder.ts","C:\\Users\\Public\\webcamrips.com\\scripts\\test-recorder.ts"]},"exception":true,"level":"error","message":"uncaughtException: Cannot find module '@/lib/utils/logger'\nRequire stack:\n- C:\\Users\\Public\\webcamrips.com\\lib\\services\\streamRecorder.ts\n- C:\\Users\\Public\\webcamrips.com\\scripts\\test-recorder.ts\nError: Cannot find module '@/lib/utils/logger'\nRequire stack:\n- C:\\Users\\Public\\webcamrips.com\\lib\\services\\streamRecorder.ts\n- C:\\Users\\Public\\webcamrips.com\\scripts\\test-recorder.ts\n    at Function.<anonymous> (node:internal/modules/cjs/loader:1225:15)\n    at Function.Module._resolveFilename.sharedData.moduleResolveFilenameHook.installedValue [as _resolveFilename] (C:\\Users\\Public\\webcamrips.com\\node_modules\\@cspotcode\\source-map-support\\source-map-support.js:811:30)\n    at Function._load (node:internal/modules/cjs/loader:1055:27)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)\n    at Module.require (node:internal/modules/cjs/loader:1311:12)\n    at require (node:internal/modules/helpers:136:16)\n    at Object.<anonymous> (C:\\Users\\Public\\webcamrips.com\\lib\\services\\streamRecorder.ts:7:1)\n    at Module._compile (node:internal/modules/cjs/loader:1554:14)\n    at Module.m._compile (C:\\Users\\Public\\webcamrips.com\\node_modules\\ts-node\\src\\index.ts:1618:23)","os":{"loadavg":[0,0,0],"uptime":312493.984},"process":{"argv":["C:\\Users\\Public\\webcamrips.com\\node_modules\\ts-node\\dist\\bin.js","C:\\Users\\Public\\webcamrips.com\\scripts\\test-recorder.ts"],"cwd":"C:\\Users\\Public\\webcamrips.com","execPath":"C:\\nvm4w\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":23153263,"external":26256339,"heapTotal":269848576,"heapUsed":237065000,"rss":324993024},"pid":14036,"uid":null,"version":"v22.14.0"},"stack":"Error: Cannot find module '@/lib/utils/logger'\nRequire stack:\n- C:\\Users\\Public\\webcamrips.com\\lib\\services\\streamRecorder.ts\n- C:\\Users\\Public\\webcamrips.com\\scripts\\test-recorder.ts\n    at Function.<anonymous> (node:internal/modules/cjs/loader:1225:15)\n    at Function.Module._resolveFilename.sharedData.moduleResolveFilenameHook.installedValue [as _resolveFilename] (C:\\Users\\Public\\webcamrips.com\\node_modules\\@cspotcode\\source-map-support\\source-map-support.js:811:30)\n    at Function._load (node:internal/modules/cjs/loader:1055:27)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)\n    at Module.require (node:internal/modules/cjs/loader:1311:12)\n    at require (node:internal/modules/helpers:136:16)\n    at Object.<anonymous> (C:\\Users\\Public\\webcamrips.com\\lib\\services\\streamRecorder.ts:7:1)\n    at Module._compile (node:internal/modules/cjs/loader:1554:14)\n    at Module.m._compile (C:\\Users\\Public\\webcamrips.com\\node_modules\\ts-node\\src\\index.ts:1618:23)","timestamp":"2025-04-23T09:49:37.258Z","trace":[{"column":15,"file":"node:internal/modules/cjs/loader","function":null,"line":1225,"method":null,"native":false},{"column":30,"file":"C:\\Users\\Public\\webcamrips.com\\node_modules\\@cspotcode\\source-map-support\\source-map-support.js","function":"Module._resolveFilename.sharedData.moduleResolveFilenameHook.installedValue [as _resolveFilename]","line":811,"method":"installedValue [as _resolveFilename]","native":false},{"column":27,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1055,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false},{"column":24,"file":"node:internal/modules/cjs/loader","function":"wrapModuleLoad","line":220,"method":null,"native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1311,"method":"require","native":false},{"column":16,"file":"node:internal/modules/helpers","function":"require","line":136,"method":null,"native":false},{"column":1,"file":"C:\\Users\\Public\\webcamrips.com\\lib\\services\\streamRecorder.ts","function":null,"line":7,"method":null,"native":false},{"column":14,"file":"node:internal/modules/cjs/loader","function":"Module._compile","line":1554,"method":"_compile","native":false},{"column":23,"file":"C:\\Users\\Public\\webcamrips.com\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1618,"method":"_compile","native":false}]}
{"errorLabelSet":{},"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":312644217,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Public\\webcamrips.com\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\Public\\webcamrips.com\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async dbConnect (C:\\Users\\Public\\webcamrips.com\\lib\\utils\\database.ts:19:16)\n    at async testRecording (C:\\Users\\Public\\webcamrips.com\\scripts\\test-recorder.ts:24:5)","timestamp":"2025-04-23T09:50:56.685Z"}
{"code":"ENOTFOUND","hostname":"_mongodb._tcp.cluster0.mongodb.net","level":"error","message":"MongoDB connection error: querySrv ENOTFOUND _mongodb._tcp.cluster0.mongodb.net","stack":"Error: querySrv ENOTFOUND _mongodb._tcp.cluster0.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:293:17)","syscall":"querySrv","timestamp":"2025-04-23T09:52:54.588Z"}
{"level":"info","message":"Starting test recording without database...","timestamp":"2025-04-23T09:53:22.460Z"}
{"level":"info","message":"Starting test recording to C:\\Users\\Public\\webcamrips.com\\recordings\\test-recording-1745402002464.mp4...","timestamp":"2025-04-23T09:53:22.464Z"}
{"level":"info","message":"Running command: streamlink https://www.youtube.com/watch?v=jfKfPfyJRdk best -o C:\\Users\\Public\\webcamrips.com\\recordings\\test-recording-1745402002464.mp4 --force","timestamp":"2025-04-23T09:53:22.465Z"}
{"level":"info","message":"Recording for 30 seconds...","timestamp":"2025-04-23T09:53:22.475Z"}
{"date":"Wed Apr 23 2025 15:23:22 GMT+0530 (India Standard Time)","error":{"code":"ENOENT","errno":-4058,"path":"streamlink","spawnargs":["https://www.youtube.com/watch?v=jfKfPfyJRdk","best","-o","C:\\Users\\Public\\webcamrips.com\\recordings\\test-recording-1745402002464.mp4","--force"],"syscall":"spawn streamlink"},"exception":true,"level":"error","message":"uncaughtException: spawn streamlink ENOENT\nError: spawn streamlink ENOENT\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:285:19)\n    at onErrorNT (node:internal/child_process:483:16)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","os":{"loadavg":[0,0,0],"uptime":312719.218},"process":{"argv":["C:\\Users\\Public\\webcamrips.com\\node_modules\\ts-node\\dist\\bin.js","C:\\Users\\Public\\webcamrips.com\\scripts\\test-recorder.ts"],"cwd":"C:\\Users\\Public\\webcamrips.com","execPath":"C:\\nvm4w\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4868916,"external":7609076,"heapTotal":170336256,"heapUsed":143211400,"rss":213921792},"pid":5428,"uid":null,"version":"v22.14.0"},"stack":"Error: spawn streamlink ENOENT\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:285:19)\n    at onErrorNT (node:internal/child_process:483:16)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-04-23T09:53:22.485Z","trace":[{"column":19,"file":"node:internal/child_process","function":"Process.ChildProcess._handle.onexit","line":285,"method":"onexit","native":false},{"column":16,"file":"node:internal/child_process","function":"onErrorNT","line":483,"method":null,"native":false},{"column":21,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":90,"method":null,"native":false}]}
{"level":"info","message":"Starting test recording without database...","timestamp":"2025-04-23T09:55:35.204Z"}
{"level":"info","message":"Starting test recording to C:\\Users\\Public\\webcamrips.com\\recordings\\test-recording-1745402135210.mp4...","timestamp":"2025-04-23T09:55:35.210Z"}
{"level":"info","message":"Running command: yt-dlp https://www.youtube.com/watch?v=jfKfPfyJRdk --format best -o C:\\Users\\Public\\webcamrips.com\\recordings\\test-recording-1745402135210.mp4 --no-playlist --max-filesize 100M","timestamp":"2025-04-23T09:55:35.212Z"}
{"level":"info","message":"Recording...","timestamp":"2025-04-23T09:55:35.230Z"}
{"level":"info","message":"Timeout reached, stopping recording...","timestamp":"2025-04-23T09:56:35.241Z"}
{"level":"info","message":"Starting test recording without database...","timestamp":"2025-04-23T09:57:57.590Z"}
{"level":"info","message":"Starting test recording to C:\\Users\\Public\\webcamrips.com\\recordings\\test-recording-1745402277595.mp4...","timestamp":"2025-04-23T09:57:57.595Z"}
{"level":"info","message":"Running command: yt-dlp https://www.youtube.com/watch?v=jfKfPfyJRdk --format best -o C:\\Users\\Public\\webcamrips.com\\recordings\\test-recording-1745402277595.mp4 --no-playlist --max-filesize 100M","timestamp":"2025-04-23T09:57:57.597Z"}
{"level":"info","message":"Recording...","timestamp":"2025-04-23T09:57:57.616Z"}
{"level":"info","message":"Timeout reached, stopping recording...","timestamp":"2025-04-23T09:58:57.623Z"}
{"level":"info","message":"Starting test recording without database...","timestamp":"2025-04-23T09:59:22.545Z"}
{"level":"info","message":"Starting test recording to C:\\Users\\Public\\webcamrips.com\\recordings\\test-recording-1745402362553.mp4...","timestamp":"2025-04-23T09:59:22.553Z"}
{"level":"info","message":"Running command: yt-dlp https://www.youtube.com/watch?v=jfKfPfyJRdk --format best -o C:\\Users\\Public\\webcamrips.com\\recordings\\test-recording-1745402362553.mp4 --no-playlist --max-filesize 100M","timestamp":"2025-04-23T09:59:22.554Z"}
{"level":"info","message":"Recording...","timestamp":"2025-04-23T09:59:22.573Z"}
{"level":"info","message":"Timeout reached, stopping recording...","timestamp":"2025-04-23T09:59:37.585Z"}
